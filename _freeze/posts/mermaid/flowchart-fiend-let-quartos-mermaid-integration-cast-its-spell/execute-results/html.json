{
  "hash": "f2f8d1ff1db8aa8e8ee9d15fff0b4263",
  "result": {
    "markdown": "---\ntitle: \"Flowchart fiend? Let Quarto's mermaid integration cast its spell\"\ndate: '2022-08-28'\ncategories: ['R', 'Quarto', 'Mermaid']\nexecute: \n  message: false\n  warning: false\neditor_options: \n  chunk_output_type: console\nimage: \"images/flowchart.png\"\n---\n\nFor anybody who makes tons of flowcharts, [mermaid.js](https://mermaid-js.github.io/mermaid/) may be siren song that draws you to Quarto.\n\nThe [documentation and functionality for Quarto is extremely robust](https://quarto.org/docs/guide/), so there are bound to be pieces we've all missed. The built-in mermaid.js functionality is quickly growing into a can't-miss feature for me and likely anybody who spends a lot of time creating flowcharts -- hi other healthcare folx!\n\n```{mermaid}\nflowchart LR\n  A((Can I <br> have pizza?))\n  A --> B{What time <br> of day is it?} \n  B --> C(Morning)\n  B --> D(Evening)\n  B --> E(Supper Time)\n  C --> F{Is said pizza <br> on a bagel?}\n  D --> F\n  E --> F\n  F -->|Yes| G[YOU CAN EAT <br> PIZZA <br> ANYTIME!]\n  F -->|NO| H[NO PIZZA <br> FOR YOU!]\n```\n\nAnd it's not just flowcharts you can make with mermaid. They've got sequence diagrams, user journey diagrams, entity relationship diagrams, git graphs that look like Metro rail maps, and Gantt diagrams, or swimlane diagrams in healthcare parlance.\n\nUnfortunately some of those formats are a hit-and-miss with properly rendering in Quarto at the moment. We're not going to talk about the two hours I just lost trying to get a swimlane chart to show at the proper width.\n\nLet's take a look at what's behind a couple samples I was able to get to work:\n\n```{mermaid}\n%%| echo: fenced\nclassDiagram\n    Animal <|-- Duck\n    Animal <|-- Fish\n    Animal <|-- Zebra\n    Animal : +int age\n    Animal : +String gender\n    Animal: +isMammal()\n    Animal: +mate()\n    class Duck{\n      +String beakColor\n      +swim()\n      +quack()\n    }\n    class Fish{\n      -int sizeInFeet\n      -canEat()\n    }\n    class Zebra{\n      +bool is_wild\n      +run()\n    }\n```\n\nExample via [Mermaid Live](https://mermaid.live/edit#pako:eNptkU1PwzAMhv9KlBOI9Q9UuyC2SRx22m2KhNzEdFbzAfnQBKP_nbSlYXT4ZD-OX72xL1w6hbzmUkMIG4LWgxGW5Xi0ZECz9VdVsU2S3S3dUTjd0iM2Hv7gmj2QjQxaXOJD9GRb1qJV6K-bw0jYg8np3f2iYSDiDEfbo73LBFgRbRC6J6edL41wJjMP5vI9gezmur_WGz5W9KrBe6BPfLY7xFiwBLuF-O_8uIJfQ41zmlF4OZNWBfpkF7Nz8BU36A2QyncZVQSPJzQoeJ1Tha-QdBRc2D4_TW8q72OrKDrP6-gTrjik6A4fVs719ObnuhPsvwES3pny)\n\nI highly recommend using [Mermaid Live](https://mermaid.live/edit#pako:eNptkU1PwzAMhv9KlBOI9Q9UuyC2SRx22m2KhNzEdFbzAfnQBKP_nbSlYXT4ZD-OX72xL1w6hbzmUkMIG4LWgxGW5Xi0ZECz9VdVsU2S3S3dUTjd0iM2Hv7gmj2QjQxaXOJD9GRb1qJV6K-bw0jYg8np3f2iYSDiDEfbo73LBFgRbRC6J6edL41wJjMP5vI9gezmur_WGz5W9KrBe6BPfLY7xFiwBLuF-O_8uIJfQ41zmlF4OZNWBfpkF7Nz8BU36A2QyncZVQSPJzQoeJ1Tha-QdBRc2D4_TW8q72OrKDrP6-gTrjik6A4fVs719ObnuhPsvwES3pny) for a WYSIWYG look at your changes on the fly. However, I don't copy their specific Markdown output. Instead I just copy what I've been tweaking into a new Quarto mermaid block.\n\n```{mermaid}\n%%| echo: fenced\nflowchart TD\nA[Patient has <br> acute symptoms] --> B{Triage in ER: <br> Evidence of MI?}\nB --> |Yes| C[Early anti-ischemia <br> /infarction therapy]\nB --> |No| D[Ambulatory care: <br> Initial evaluation]\nC --> E[Inpatient evaluation <br> and therapy]\nC --> F[Ambulatory care: <br> Follow-up care]\nF --> G{Invasive <br> evaluation done?}\nG --> |No| H[Ambulatory care: <br> Rehab and follow-up]\nG --> |Yes| I{Procedure <br> initiated?}\nI --> |No| H\nI --> |Yes| J[Revascularization <br> procedure]\nJ --> H\n```\n\nExample adapted from the [Institute for Healthcare Improvement's Quality Improvement Essentials Toolkit](https://www.ihi.org/resources/Pages/Tools/Quality-Improvement-Essentials-Toolkit.aspx)\n\nEven with all the hiccups of mermaid and Quarto not playing nice together, I think this can be a huge boon in my workday, and that of many others I imagine.\n\n",
    "supporting": [
      "flowchart-fiend-let-quartos-mermaid-integration-cast-its-spell_files"
    ],
    "filters": [],
    "includes": {}
  }
}