[
  {
    "objectID": "posts/flowchart-fiend-let-quartos-mermaid-integration-cast-its-spell/flowchart-fiend-let-quartos-mermaid-integration-cast-its-spell.html",
    "href": "posts/flowchart-fiend-let-quartos-mermaid-integration-cast-its-spell/flowchart-fiend-let-quartos-mermaid-integration-cast-its-spell.html",
    "title": "Flowchart fiend? Let Quarto’s mermaid integration cast its spell",
    "section": "",
    "text": "For anybody who makes tons of flowcharts, mermaid.js may be the siren song that draws you to Quarto.\nThe Quarto’s documentation and functionality is extremely robust, so there are bound to be pieces we’ve all missed. The built-in mermaid.js functionality is quickly growing into a can’t-miss feature for me and likely anybody who spends a lot of time creating flowcharts – hi other healthcare folx!\n\n\n\n\n\nflowchart LR\n  A((Can I &lt;br&gt; have pizza?))\n  A --&gt; B{What time &lt;br&gt; of day is it?} \n  B --&gt; C(Morning)\n  B --&gt; D(Evening)\n  B --&gt; E(Supper Time)\n  C --&gt; F{Is said pizza &lt;br&gt; on a bagel?}\n  D --&gt; F\n  E --&gt; F\n  F --&gt;|Yes| G[YOU CAN EAT &lt;br&gt; PIZZA &lt;br&gt; ANYTIME!]\n  F --&gt;|NO| H[NO PIZZA &lt;br&gt; FOR YOU!]\n\n\n\n\n\n\nThere are inputs for almost every tweak you could think of making: shape, color, line type, subgroup, etc.\nAnd it’s not just flowcharts you can make with mermaid. They’ve got sequence diagrams, user journey diagrams, entity relationship diagrams, git graphs that look like Metro rail maps, and Gantt diagrams, aka swimlane diagrams in healthcare parlance.\n\n\n\n\n\n%%{init: { 'logLevel': 'debug', 'theme': 'forest' } }%%\ngantt\n    title Project Timeline\n    dateFormat  YYYY-MM-DD\n    section Data Prep\n    Extract Data           :a1, 2023-01-01, 1w\n    Clean Data     :a2, 2023-01-01, 3w\n    Split Dataset   :a3, 2023-01-22, 1w\n    Score Training Dataset    :a4, 2023-01-29, 3w\n    section NLP\n    Construct Model      :b1, 2023-02-19, 2w\n    Refine Model         :b2, 2023-03-05, 2w\n    QA                   :b3, 2023-03-19, 3w\n    section Summarize\n    Write Report         :c1, 2023-04-09, 2w\n    Make Slides    :c2, 2023-04-16, 1w\n\n\n\n\n\n\nLet’s take a look at what’s behind a couple samples I was able to get to work:\n\n\nCode\n```{mermaid}\nclassDiagram\n    Animal &lt;|-- Duck\n    Animal &lt;|-- Fish\n    Animal &lt;|-- Zebra\n    Animal : +int age\n    Animal : +String gender\n    Animal: +isMammal()\n    Animal: +mate()\n    class Duck{\n      +String beakColor\n      +swim()\n      +quack()\n    }\n    class Fish{\n      -int sizeInFeet\n      -canEat()\n    }\n    class Zebra{\n      +bool is_wild\n      +run()\n    }\n```\n\n\n\n\nclassDiagram\n    Animal &lt;|-- Duck\n    Animal &lt;|-- Fish\n    Animal &lt;|-- Zebra\n    Animal : +int age\n    Animal : +String gender\n    Animal: +isMammal()\n    Animal: +mate()\n    class Duck{\n      +String beakColor\n      +swim()\n      +quack()\n    }\n    class Fish{\n      -int sizeInFeet\n      -canEat()\n    }\n    class Zebra{\n      +bool is_wild\n      +run()\n    }\n\n\n\n\n\nExample via Mermaid Live\nI highly recommend using Mermaid Live for a WYSIWYG look at your changes on the fly. However, I don’t copy their specific Markdown output. Instead I just copy what I’ve been tweaking into a new Quarto mermaid block.\n\n\nCode\n```{mermaid}\nflowchart TD\nA[Patient has &lt;br&gt; acute symptoms] --&gt; B{Triage in ER: &lt;br&gt; Evidence of MI?}\nB --&gt; |Yes| C[Early anti-ischemia &lt;br&gt; /infarction therapy]\nB --&gt; |No| D[Ambulatory care: &lt;br&gt; Initial evaluation]\nC --&gt; E[Inpatient evaluation &lt;br&gt; and therapy]\nC --&gt; F[Ambulatory care: &lt;br&gt; Follow-up care]\nF --&gt; G{Invasive &lt;br&gt; evaluation done?}\nG --&gt; |No| H[Ambulatory care: &lt;br&gt; Rehab and follow-up]\nG --&gt; |Yes| I{Procedure &lt;br&gt; initiated?}\nI --&gt; |No| H\nI --&gt; |Yes| J[Revascularization &lt;br&gt; procedure]\nJ --&gt; H\n```\n\n\n\n\nflowchart TD\nA[Patient has &lt;br&gt; acute symptoms] --&gt; B{Triage in ER: &lt;br&gt; Evidence of MI?}\nB --&gt; |Yes| C[Early anti-ischemia &lt;br&gt; /infarction therapy]\nB --&gt; |No| D[Ambulatory care: &lt;br&gt; Initial evaluation]\nC --&gt; E[Inpatient evaluation &lt;br&gt; and therapy]\nC --&gt; F[Ambulatory care: &lt;br&gt; Follow-up care]\nF --&gt; G{Invasive &lt;br&gt; evaluation done?}\nG --&gt; |No| H[Ambulatory care: &lt;br&gt; Rehab and follow-up]\nG --&gt; |Yes| I{Procedure &lt;br&gt; initiated?}\nI --&gt; |No| H\nI --&gt; |Yes| J[Revascularization &lt;br&gt; procedure]\nJ --&gt; H\n\n\n\n\n\nExample adapted from the Institute for Healthcare Improvement’s Quality Improvement Essentials Toolkit\nEven with all the hiccups of mermaid and Quarto not playing nice together, I think this can be a huge boon in my workday, and that of many others I imagine."
  },
  {
    "objectID": "posts/not-promising-much-but-here-goes/post.html",
    "href": "posts/not-promising-much-but-here-goes/post.html",
    "title": "Not promising much, but here goes…",
    "section": "",
    "text": "Ask anybody who has worked with me, they’ll tell you I’m the king of underpromising then overdelivering.\nI’m hoping that turns out to be the case with this shiny new Quarto portfolio site and blog I built.1\nHere is what I’m hoping to accomplish:\nWatch one, do one, teach one: I’m cribbing this mentality from the talented nurses I spend my workday serving. I began learning R back in 2018 as part of my Business Analytics master’s program. With a few years of experience under my belt, it’s time to pay forward what I learned from those a few steps ahead of me then.\nGet some healthcare example cases out there: Maybe I’m just looking in the wrong places, but it’s hard to find direct parallels to things I’m doing around the hospital online. That likely has to do with HIPAA hurdles. But I’m going to start looking for some available mock hospital data and putting together some work with those to give people interested in a healthcare data career a taste of what they can expect. So if you know of any mock hospital data OK for blogging examples with, let me know (hey at lukesmorris dot com). Otherwise, I’ll be digging into charlatan to try my hand at creating my own fake dataset.\nLearn what other R folks are up to: Although I’ve changed industries, I’m still a journalist at heart. One thing I’d love to do is interview other R users about what they’re working on, either professionally or as a hobby. I foresee a rich vein of inspiration – for others as well as myself. Think of it as a podcast, but in writing.\nBeing a full-time employee and full-time grad student will definitely challenge how often I can post, but I’ll look for opportunities where available.\nLet’s have some fun!"
  },
  {
    "objectID": "aTidyConversation-series.html",
    "href": "aTidyConversation-series.html",
    "title": "A tidy conveRsation",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "archive.html",
    "href": "archive.html",
    "title": "Archive",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAug 28, 2022\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAug 22, 2022\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Luke Morris",
    "section": "",
    "text": "I’m a small library of contradictions. I started off life in a one-stoplight town in a corner of Kansas and now call Los Angeles home. I spent a decade as a words guy, wrangling wild sentences as a journalist before transforming into a numbers guy, analyzing healthcare data.\n\n\n\n\n\n\nA Tender-Loving-Care Volunteer Program to Provide Non-Clinical, Supportive Interventions to Older Adults in the Emergency Department\nAnnals of Emergency Medicine\nOct. 17, 2022\nAn Emergency Department-Based Care Coordination Program for Underserved Patients\nAcademic Emergency Medicine\nMay 17, 2022\n30 Characteristics of Patients Restrained in the Emergency Department and Evaluation for Disparities in Care\nAnnals of Emergency Medicine\nOct. 22, 2021\n\n\n\n\n\nMaking the Case for Cedars’ Community Resource Coordinators\nBracketball: Let’s Explore March Madness with ncaahoopR (slides)\n\n\n\n\n\nKansas Basketball 2021-22 Season Dashboard (repo)\nPredictive Analytics with College Athletics Financials\nExamining Article Shareability from Text-Mined Data\n\n\n\n\n\n\nCedars-Sinai Graduate School of Biomedical Sciences\nLos Angeles, CA\nCandidate for Masters in Health Delivery Science\nSep 2021 - Apr 2023\nMerrimack College\nNorth Andover, MA\nMS in Business Analytics\nJan 2018 - July 2019\nUniversity of Kansas\nLawrence, KS\nBS in Journalism\nAug 2005 - May 2009\n\n\n\nBusiness Data Analyst, Emergency Department\nCedars-Sinai Medical Center\nSept 2019 - present\nDigital Editor\nCirca.com\nOct 2018 - March 2019\nWeb Producer, Sports\nThe Dallas Morning News\nJuly 2013 - Oct 2018\nCopy Editor\nArkansas Democrat-Gazette\nAug 2010 - May 2013\nCopy Editor/Designer\nThe News & Advance\nJune 2009-July 2010\n\n \n  \n   \n  \n    \n     LinkedIn\n  \n  \n    \n     Mastodon\n  \n  \n    \n     Github"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Tidy Data, Messy Thoughts",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n  \n\n\n\n\nLearning tmap: Dipping my toes in the R-spatial world\n\n\n\n\n\n\n\nR\n\n\nRspatial\n\n\ntmap\n\n\n\n\nMaps for the perfectionist who can’t just be happy enough with ggplot\n\n\n\n\n\n\nJun 10, 2023\n\n\n6 min\n\n\n\n\n\n\n  \n\n\n\n\nFlowchart fiend? Let Quarto’s mermaid integration cast its spell\n\n\n\n\n\n\n\nR\n\n\nQuarto\n\n\nMermaid\n\n\n\n\n\n\n\n\n\n\n\nAug 28, 2022\n\n\n4 min\n\n\n\n\n\n\n  \n\n\n\n\nNot promising much, but here goes…\n\n\n\n\n\n\n\nR\n\n\nQuarto\n\n\n\n\n\n\n\n\n\n\n\nAug 22, 2022\n\n\n2 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Luke Morris",
    "section": "",
    "text": "Cedars-Sinai Graduate School of Biomedical Sciences\nLos Angeles, CA\nCandidate for Masters in Health Delivery Science\nSep 2021 - Apr 2023\nMerrimack College\nNorth Andover, MA\nMS in Business Analytics\nJan 2018 - July 2019\nUniversity of Kansas\nLawrence, KS\nBS in Journalism\nAug 2005 - May 2009"
  },
  {
    "objectID": "index.html#experience",
    "href": "index.html#experience",
    "title": "Luke Morris",
    "section": "",
    "text": "Business Data Analyst, Emergency Department\nCedars-Sinai Medical Center\nSept 2019 - present\nDigital Editor\nCirca.com\nOct 2018 - March 2019\nWeb Producer, Sports\nThe Dallas Morning News\nJuly 2013 - Oct 2018\nCopy Editor\nArkansas Democrat-Gazette\nAug 2010 - May 2013\nCopy Editor/Designer\nThe News & Advance\nJune 2009-July 2010"
  },
  {
    "objectID": "posts/learning_tmap_dipping_my_toe_in_rspatial/learning_tmap_dipping_my_toe_in_rspatial.html",
    "href": "posts/learning_tmap_dipping_my_toe_in_rspatial/learning_tmap_dipping_my_toe_in_rspatial.html",
    "title": "Learning tmap: Dipping my toes in the R-spatial world",
    "section": "",
    "text": "I’ve been wanting to wade into the R spatial waters for some time, and now I’ve finally gotten around to it!\nIn case you didn’t know, R has a whole community built around spatial data viz and data science.\nI made a few maps previously with ggplot2, but as a raging perfectionist, I was left longing for more control. The nagging need to map with something else was kickstarted when I discovered that plotly and chloropleth maps don’t always get along. And that’s how I ended up dabbling with tmap.\nFortunately, tmap prides itself on being like a ggplot2 built specifically for mapping – and high visual quality ones at that. When you need an interactive map, leaflet joins the party.\nIn the examples below, I took California’s 2020 data on Primary Care Shortage Areas and visualized Los Angeles County by state-designated Medical Service Study Areas. (Note: I had to alter the geoJSON for one of the MSSAs to get rid of Catalina Island and San Clemente Island, which were messing up the overall map size.)\n\nCodelibrary(sf)\nlibrary(tidyverse)\nlibrary(tmap)\nlibrary(tmaptools)\nlibrary(leaflet)\n\nlaco &lt;- read_sf(\"data/lacoG.geojson\")\n\nlabelItems &lt;- sprintf(\n  \"&lt;strong&gt;Area: &lt;/strong&gt;%s&lt;br/&gt;&lt;strong&gt;Shortage Score: &lt;/strong&gt;%s&lt;br/&gt;&lt;strong&gt;Population: &lt;/strong&gt;%s&lt;br/&gt;&lt;strong&gt;Pop. Under Poverty Line: &lt;/strong&gt;%s&lt;br/&gt;&lt;strong&gt;Provider-to-Civilian Ratio: &lt;/strong&gt;%s&lt;br/&gt;\",laco$MSSA_NAME, laco$PCSA_SCORE, laco$POP, laco$POV_RATE, laco$PC_PHYS_R_CIV\n) %&gt;% lapply(htmltools::HTML)\n\nlaco &lt;- laco %&gt;%\n  mutate(labelText = labelItems)\n\nlacoSta &lt;- tm_shape(laco) +\n  tm_polygons(col = \"PCSA_SCORE\",\n              id = \"MSSA_NAME\",\n              title = \"Shortage Score\",\n              breaks = c(0, 5, 6, 7, 8, 9, 10, 11), \n              labels = c(\"0 to 4\", \"5\", \"6\", \"7\", \"8\", \"9\",\"10\"),\n              palette = c(\"0 to 4\" = \"gray75\",\n                          \"5\" = \"#feeca5\",\n                          \"6\" = \"#fecf66\",\n                          \"7\" = \"#fea332\",\n                          \"8\" = \"#ec7114\",\n                          \"9\" = \"#c74a02\",\n                          \"10\" = \"#8e3003\"),\n              alpha = 0.5) +\n  tm_credits(\"SOURCE: Health Resources\\n& Services Administration\", position = c(\"right\", \"bottom\")) +\n  tm_layout(\n    main.title = \"Primary Care Shortage Areas in LA County\",\n    frame = FALSE\n  )\n\ntmap_save(tm = lacoSta, \n          filename = \"images/lacoSta.png\")\n\n\nRemember when I said it works kind of like ggplot2? You can see what I mean when it comes to how things are layered. First you see the tm_polygons call. The layers use some kind of tm_xxxxx() call akin to geom_xxxxx(). Next layer is tm_credits() similarly to how you might use labs() for plots. And think of tm_layout() offering that detailed customization that you get from theme() for plots.\n\nMaking the interactive version took a long dig into the documentation to get things exactly how I wanted them finally, but I was more than happy with the finished product. It’s also nice that you don’t necessarily even have to make two wholly different maps. If you’re not picky about some of the interactive map’s details, you can use the tmm() command to flip back and forth between static and interactive views of the same map.\n\nCodelacoInt &lt;- tm_shape(laco) +\n  tm_basemap(server = \"OpenStreetMap\") +\n  tm_polygons(col = \"PCSA_SCORE\",\n              id = \"MSSA_NAME\",\n              title = \"Shortage Score\",\n              breaks = c(0, 5, 6, 7, 8, 9, 10, 11), \n              labels = c(\"0 to 4\", \"5\", \"6\", \"7\", \"8\", \"9\",\"10\"),\n              palette = c(\"0 to 4\" = \"gray75\",\n                          \"5\" = \"#feeca5\",\n                          \"6\" = \"#fecf66\",\n                          \"7\" = \"#fea332\",\n                          \"8\" = \"#ec7114\",\n                          \"9\" = \"#c74a02\",\n                          \"10\" = \"#8e3003\"),\n              alpha = 0.6,\n              popup.vars = c(\"Shortage Score\" = \"PCSA_SCORE\", \n                             \"Population\" = \"POP\", \n                             \"Poverty Rate\" = \"POV_RATE\", \n                             \"Provider-to-Civilian Ratio\" = \"PC_PHYS_R_CIV\")) +\n  tmap_options(\n    output.size = 1600\n  ) \n\ntmap_mode(\"view\")\nhtmltools::h3(\"Primary Care Shortage Areas in LA County\")\n\nPrimary Care Shortage Areas in LA County\n\nCodelacoInt\n\n\n\n\n\n\nIf this whet your appetite to start toying with tmap, here are some helpful starting points.\ntmap Github r-spatial.org Geocomputation with R tmap: Elegant and Effective Informative Maps book (incomplete) Did I miss a good one? Comment and shout it out!"
  },
  {
    "objectID": "posts/not-promising-much-but-here-goes/post.html#footnotes",
    "href": "posts/not-promising-much-but-here-goes/post.html#footnotes",
    "title": "Not promising much, but here goes…",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nAlbert Rapp’s guide was super helpful↩︎"
  },
  {
    "objectID": "index.html#my-work",
    "href": "index.html#my-work",
    "title": "Luke Morris",
    "section": "",
    "text": "A Tender-Loving-Care Volunteer Program to Provide Non-Clinical, Supportive Interventions to Older Adults in the Emergency Department\nAnnals of Emergency Medicine\nOct. 17, 2022\nAn Emergency Department-Based Care Coordination Program for Underserved Patients\nAcademic Emergency Medicine\nMay 17, 2022\n30 Characteristics of Patients Restrained in the Emergency Department and Evaluation for Disparities in Care\nAnnals of Emergency Medicine\nOct. 22, 2021\n\n\n\n\n\nMaking the Case for Cedars’ Community Resource Coordinators\nBracketball: Let’s Explore March Madness with ncaahoopR (slides)\n\n\n\n\n\nKansas Basketball 2021-22 Season Dashboard (repo)\nPredictive Analytics with College Athletics Financials\nExamining Article Shareability from Text-Mined Data"
  }
]